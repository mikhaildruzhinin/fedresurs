# fedresurs-messages

Этот HTTP-сервис служит для проверки, нет ли в системе [Федресурс](https://fedresurs.ru/) упоминаний о банкротстве данного лица. Для проверки сервису необходимо передать его тип (для ЮЛ Company, для ИП IndividualEntrepreneur, для ФЛ Person, для оценщиков Appraiser, для иностранных компаниий NonResidentCompany) и идентификатор (для ЮЛ: ОГРН, для ИП: ОГРНИП, для ФЛ: ИНН или СНИЛС, для оценщиков: ИНН или СНИЛС, для иностранных компаний: Аналог ИНН или регистрационный номер) и в ответ приложение вернет перечень сообщений, если таковые имеются.

### Как установить

Приложение находится в [Docker](https://www.docker.com/) контейнере.

### Запуск

В командной строе откройте директорию с клонированным репозиторием и выполните следующие команды:

```
docker build -t fedresurs-messages .
docker run -d --name fedresurs-messages -p 8000:80 fedresurs-messages

```
Приложение будет запущего по адресу http://localhost:8000/.

Для работы с API системы Федресурс потребуется логин и пароль для входа в данную систему. Для подключения к демонстрационному контуру:
* логин: `demo`
* пароль: `Ax!761BN`<br/>   

О подключении к системе подробнее написано в [справочной документации](https://fedresurs.ru/help).

В директории `app` необходимо создать пустой файл под названием `.env` и вставить туда логин и пароль в следующем формате:

```
FEDRESURS_LOGIN='demo'
FEDRESURS_PASSWORD='Ax!761BN'
```

### HTTP запросы

Данный сервис использует следующие HTTP запросы:

| HTTP метод | URI | Действие | Параметры |
| --- | --- | --- | --- |
| POST | http://localhost:8000/task/ | Добавление нового задания | `type_: str`, `code: int` |
| POST | http://localhost:8000/messages/ | Выполнение задания | `guid: int` |

Более подробная информация будет доступна в интерактивной [документации](http://localhost:8000/docs/) по API, которая будет создана автоматически при запуске приложения.

### Цель проекта

Код написан в качестве тестового задания для компании [Аналитические программные решения](https://apsolutions.ru/).
